<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Formulário - Estilo de Tabela</title>
</h:head>

<body>
<h:outputStylesheet library="css" name="stile.css" />
	
	<h:form>
		<h:outputText value="Layout de Tabela" />
		<hr/>
		<h:dataTable value="#{tabela.listaLivros}" var="l" styleClass="tabela" headerClass="cabecalho" columnClasses="colunaPadrao, colunaPadrao, colunaPadrao, colunaPadrao, colunaPadrao, colunaPadrao" rendered="#{tabela.listaLivros.rowCount > 0}" >
    		<f:facet name="caption">
    			<h:outputText value="Lista de Livros" />
    		</f:facet>
    		<h:column>
    			<f:facet name="header">
    				<h:outputText value="ID" />
    			</f:facet>
    				<h:outputText value="#{tabela.listaLivros.rowIndex + 1}" />
    		</h:column>
    		<h:column>
    			<f:facet name="header">
    				<h:outputText value="Título" />
    			</f:facet>
    				<h:outputText value="#{l.titulo}" rendered ="#{!l.edit}" />
    				<h:inputText value="#{l.titulo}" rendered ="#{l.edit}" styleClass="bigInput" />
    		</h:column>
    		<h:column>
    			<f:facet name="header">
    				<h:outputText value="Autor" />
    			</f:facet>
    				<h:outputText value="#{l.autor}" rendered="#{!l.edit}" />
    				<h:inputText value="#{l.autor}" rendered="#{l.edit}" styleClass="bigInput" />
    		</h:column>
    		<h:column>
    			<f:facet name="header">
    				<h:outputText value="Editora" />
    			</f:facet>
    				<h:outputText value="#{l.editora}" rendered="#{!l.edit}" />
    				<h:inputText value="#{l.editora}" rendered="#{l.edit}" styleClass="bigInput" />
    		</h:column>
    		<h:column>
    			<f:facet name="header">
    				<h:outputText value="Nº Paginas" />
    			</f:facet>
    				<h:outputText value="#{l.numPag}" rendered="#{!l.edit}" />
    				<h:inputText value="#{l.numPag}" rendered="#{l.edit}" styleClass="smallInput" />
    		</h:column>
    		<h:column>
    			<f:facet name="header">
    				<h:outputText value=" " />
    			</f:facet>
    				<h:commandLink value="Gravar" action="#{tabela.gravar(l)}" rendered="#{l.edit}" />
    				<h:panelGroup rendered="#{!l.edit}">
    				    <h:commandLink value="Editar" action="#{tabela.editar(l)}" /> | 
    				    <h:commandLink value="Excluir" action="#{tabela.excluir(l)}" />
    				</h:panelGroup>
    		</h:column>
    	</h:dataTable>
    	
    	<h:panelGroup>
    		<h:outputText value="Clique em Inserir para gerar a tabela!" rendered="#{tabela.listaLivros.rowCount == 0}" />
    	</h:panelGroup>
	<hr />
	<br />
	<h:commandButton value="Inserir" action="#{tabela.inserir}" />
	</h:form>
</body>

</html>